<ion-header>
  <ion-toolbar>
      <ion-buttons slot="primary">
          <ion-button (click)="onCancel()">
              <ion-icon name="close"></ion-icon>
          </ion-button>
      </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
  <form #f="ngForm" (ngSubmit)="onEditActor()">
    <ion-grid>
      <ion-row>
        <ion-col size-sm="6" offset-sm="3">
          <ion-item>
            <ion-label position="floating">First name</ion-label>
            <ion-input type="text" [ngModel]="firstname" name="firstname" required minlength="2" #firstName="ngModel"></ion-input>
          </ion-item>
          <ion-item lines="none" *ngIf="firstName.invalid && firstName.touched">
            <ion-label>First name should be at least 2 characters long.</ion-label>
          </ion-item>
        </ion-col>
      </ion-row>

      <ion-row>
        <ion-col size-sm="6" offset-sm="3">
          <ion-item>
            <ion-label position="floating">Last name</ion-label>
            <ion-input type="text" [ngModel]="lastname" name="lastname" required minlength="2" #lastName="ngModel"></ion-input>
          </ion-item>
          <ion-item lines="none" *ngIf="lastName.invalid && lastName.touched">
            <ion-label>Last name should be at least 2 characters long.</ion-label>
          </ion-item>
        </ion-col>
      </ion-row>

      <ion-row>
        <ion-col size-sm="6" offset-sm="3">
          <ion-item>
            <ion-label position="floating">A.K.A.</ion-label>
            <ion-input type="text" [ngModel]="actor.aka" name="aka" required minlength="2" #aka="ngModel"></ion-input>
          </ion-item>
        </ion-col>
      </ion-row>

      <ion-row>
        <ion-col size-sm="6" offset-sm="3">
          <ion-item>
            <ion-label position="floating">Biography</ion-label>
            <ion-textarea type="text" rows="6" [ngModel]="actor.biography" name="biography" required maxlength = "400" #biography="ngModel"></ion-textarea>
          </ion-item>
          <ion-item lines="none" *ngIf="biography.invalid && biography.touched">
            <ion-label>250 characters max.</ion-label>
          </ion-item>
        </ion-col>
      </ion-row>

      <ion-row>
        <ion-col size-sm="6" offset-sm="3">
          <ion-item>
            <ion-label position="floating">Date of birth</ion-label>
            <ion-datetime value="1920-01-01" [ngModel]="actor.dateOfBirth"  required name = "dateOfBirth" placeholder="Select Date"></ion-datetime>
          </ion-item>
        </ion-col>
      </ion-row>

      <ion-row>
        <ion-col size-sm="6" offset-sm="3">
          <ion-item>
            <ion-label position="floating">Country</ion-label>
            <ion-input type="text" [ngModel]="actor.country" name="country" required  minlength="2" #country="ngModel"></ion-input>
          </ion-item>
          <ion-item lines="none" *ngIf="country.invalid && country.touched">
            <ion-label>Name of country should be at least 2 characters long.</ion-label>
          </ion-item>
        </ion-col>
      </ion-row>

      <ion-row>
        <ion-col size-sm="6" offset-sm="3">
          <ion-item>
            <ion-label position="floating">Height</ion-label>
            <ion-input type="number" placeholder="cm" [ngModel]="actor.height" name="height" required min="0" #height="ngModel"></ion-input>
          </ion-item>
          <ion-item lines="none" *ngIf="height.invalid && height.touched">
            <ion-label>Should be positive.</ion-label>
          </ion-item>
        </ion-col>
      </ion-row>

      <ion-row>
        <ion-col size-sm="6" offset-sm="3">
          <ion-item>
            <ion-label position="floating">Image url</ion-label>
            <ion-input type="text" [ngModel]="actor.image" name="image" required></ion-input>
          </ion-item>
        </ion-col>
      </ion-row>

      <ion-row>
        <ion-col size-sm="6" offset-sm="3">
          <ion-item (click)="onAddRole()">
            <ion-label stacked>Add a role</ion-label>
            <ion-icon item-right name="add-circle-outline"></ion-icon>
          </ion-item>
        </ion-col>
      </ion-row>

      <!-- [(ngModel)] ="role" name = "role" u ion list ako ne radi bez toga-->
      <ion-list>
        <ion-item-sliding [value]="role" *ngFor="let role of rolesToAdd">
          <ion-item>
            <ion-label>{{role.name}}</ion-label>
          </ion-item>
          <ion-item-options side="end">
            <ion-item-option (click)="delete(role)">
              <ion-icon slot="icon-only" name="trash"></ion-icon>
            </ion-item-option>
            <ion-item-option (click)="edit(role)">
              <ion-icon slot="icon-only" name="pencil"></ion-icon>
            </ion-item-option>
          </ion-item-options>
        </ion-item-sliding>
      </ion-list>
      <ion-row>
        <ion-col size-sm="6" offset-sm="3">
          <ion-button type="submit" color="primary" expand="block" [disabled]="f.invalid">
            Update
          </ion-button>
        </ion-col>
      </ion-row>
    </ion-grid>
  </form>
</ion-content>